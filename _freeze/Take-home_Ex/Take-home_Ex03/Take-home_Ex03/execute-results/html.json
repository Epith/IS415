{
  "hash": "3217d0484d648541fc0f9a61fa27d44a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-Home Exercise 3\"\nauthor: \"Kwee Cheng\"\ndate: \"October 31, 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  freeze: true\ncategories: [Take-Home, Code]\n---\n\n\n\n## **Overview and Objectives**\n\nIn this take-home my aim is to evaluate the necessary R packages necessary to perform:\n\n-   Global Measures of Spatial Autocorrelation\n\n-   Local Measures of Spatial Autocorrelation\n\nThis is to be on the data which is the different types of crimes in Malaysia on the district level which we would layer with income inequality of Malaysia.\n\nThis also serves to prototype the Shiny application UI and choosing the right type of components\n\n## Data\n\n-   **Income Inequality Data:** Household income inequality by district (<https://data.gov.my/data-catalogue/hh_inequality_district>)\n\n-   **Crime Data:** Crime rates by district (<https://data.gov.my/data-catalogue/crime_district>)\n\n-   Insert Boundary Link\n\n## Packages\n\n-   **sf** provides a standardised way to work with spatial vector data (points, lines, polygons)\n\n-   **spdep** focuses on spatial econometrics and spatial statistics\n\n-   **tmap** create thematic maps\n\n-   **tidyverse** for easy data manipulation and some visualisation\n\n-   **knitr** facilitates the integration of R code and documentation in reproducible research reports\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, sfdep, tmap, tidyverse, knitr)\n```\n:::\n\n\n\n## Importing the Data\n\nBefore the UI prototyping can be done let's see what type of data we are dealing with so that we can better plan for the UI components to be used\n\nLet's import the crime dataset\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrime <- read_csv(\"data/aspatial/crime_district.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 19152 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (4): state, district, category, type\ndbl  (1): crimes\ndate (1): date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n\nLet's import the income inequality as well\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincome <- read_csv(\"data/aspatial/hh_inequality.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 318 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (2): state, district\ndbl  (1): gini\ndate (1): date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncrime\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 19,152 × 6\n   state    district category type           date       crimes\n   <chr>    <chr>    <chr>    <chr>          <date>      <dbl>\n 1 Malaysia All      assault  all            2016-01-01  22327\n 2 Malaysia All      assault  all            2017-01-01  21366\n 3 Malaysia All      assault  all            2018-01-01  16902\n 4 Malaysia All      assault  all            2019-01-01  16489\n 5 Malaysia All      assault  all            2020-01-01  13279\n 6 Malaysia All      assault  all            2021-01-01  11495\n 7 Malaysia All      assault  all            2022-01-01  10348\n 8 Malaysia All      assault  all            2023-01-01  10453\n 9 Malaysia All      assault  causing_injury 2016-01-01   5531\n10 Malaysia All      assault  causing_injury 2017-01-01   5024\n# ℹ 19,142 more rows\n```\n\n\n:::\n:::\n\n\n\nFrom here we can identify some of the variables that we can use, that the user can interact with ***district, category, type, date, crimes***\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nincome\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 318 × 4\n   state district    date        gini\n   <chr> <chr>       <date>     <dbl>\n 1 Johor Batu Pahat  2019-01-01 0.295\n 2 Johor Batu Pahat  2022-01-01 0.338\n 3 Johor Johor Bahru 2019-01-01 0.388\n 4 Johor Johor Bahru 2022-01-01 0.359\n 5 Johor Kluang      2019-01-01 0.333\n 6 Johor Kluang      2022-01-01 0.354\n 7 Johor Kota Tinggi 2019-01-01 0.361\n 8 Johor Kota Tinggi 2022-01-01 0.343\n 9 Johor Kulai       2019-01-01 0.324\n10 Johor Kulai       2022-01-01 0.337\n# ℹ 308 more rows\n```\n\n\n:::\n:::\n\n\n\nLikewise for income we have ***district, date, gini***\n\n## UI Design\n\nFor a shiny application in this course we work with three main components **`headerPanel`**, **`sidebarPanel`**, and **`mainPanel`**.\n\n-   **Header Panel** : This is the topmost part of the UI where we can put a description of the application or have a navbar where you can navigate different pages. Each page leads to other group members work/part in this project\n\n-   **Sidebar Panel**: This panel would mainly consist of the input controls that the user can play around with to change the map output in the **Main Panel.**\n\n-   **Main Panel** : This is the primary area of the application and it typically contains outputs. The main panel displays the output (like maps, plots, tables, etc.) based on the input given in the sidebar panel.\n\n![](images/clipboard-3154485869.png)\n\n### Header Panel\n\nFor this we would like to put **navbarPage()** which shiny provides. This is so as to keep our project organised and it would be easier to navigate through the different pages that we would have\n\n![](images/clipboard-4240030914.png)\n\n### Side Panel\n\nFor this part it would be the input controls and given the potential variables the the data type we have identified: ***district, category, type, date, crimes, gini.***\n\nSome of the potential input controls that could be used are:\n\n![](images/clipboard-3620315000.png){width=\"414\"}\n\n![](images/clipboard-2234524494.png)\n\n![](images/clipboard-2052511263.png){width=\"430\"}\n\n![](images/clipboard-1621641194.png){width=\"401\"}\n\n![](images/clipboard-3092468463.png){width=\"274\"}\n\n![](images/clipboard-2079632102.png)\n\n![](images/clipboard-2775147435.png)\n\nSomething that our side panel that could look like given the variables that we are given:\n\n![](images/clipboard-1116187746.png)\n\n### Main Panel\n\nGiven that I am working with LISA maps and that having a comparison between two maps would be helpful for the user to visualise.\n\n![](images/clipboard-1619717407.png)\n\nThis would also be roughly how our shiny application would look like with the different layouts\n\n## Data Wrangling\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}